"use strict";(self["webpackChunkfrontend_clean"]=self["webpackChunkfrontend_clean"]||[]).push([[530],{7530:function(a,s,e){e.r(s),e.d(s,{default:function(){return P}});var l=e(6768),o=e(5130),n=e(4232);const r={class:"login-page"},i={class:"login-card shadow-lg"},t={class:"card-row"},d={class:"right-panel"},c={class:"right-inner"},u={class:"form-group"},v={class:"form-group"},h={class:"password-row"},g=["type"],k=["disabled"],p={key:0,class:"alert alert-danger mt-3"},m={key:1,class:"alert alert-success mt-3"};function L(a,s,e,L,f,w){return(0,l.uX)(),(0,l.CE)("div",null,[s[9]||(s[9]=(0,l.Fv)('<nav class="navbar navbar-expand-lg bg-white shadow-sm px-4 py-3" data-v-36e02485><div class="container-fluid navbar-inner" data-v-36e02485><a class="navbar-brand site-logo" href="#" data-v-36e02485>TryggHelse</a><ul class="navbar-nav ms-auto" data-v-36e02485><li class="nav-item" data-v-36e02485><a class="nav-link" href="#" data-v-36e02485>Products</a></li><li class="nav-item" data-v-36e02485><a class="nav-link" href="#" data-v-36e02485>Resources</a></li><li class="nav-item" data-v-36e02485><a class="nav-link" href="#" data-v-36e02485>Company</a></li><li class="nav-item" data-v-36e02485><a class="btn btn-book" href="#" data-v-36e02485>Book a Demo</a></li><li class="nav-item login-link-item" data-v-36e02485><a class="nav-link login-link" href="#" data-v-36e02485>Login</a></li></ul></div></nav>',1)),(0,l.Lk)("div",r,[(0,l.Lk)("div",i,[(0,l.Lk)("div",t,[s[8]||(s[8]=(0,l.Lk)("div",{class:"left-panel"},[(0,l.Lk)("div",{class:"left-inner"},[(0,l.Lk)("h2",null,"Patient Login"),(0,l.Lk)("ul",{class:"features-list"},[(0,l.Lk)("li",null,"Anytime, Anywhere, Any Device"),(0,l.Lk)("li",null,"Go Paperless"),(0,l.Lk)("li",null,"Secure Backup"),(0,l.Lk)("li",null,"Multi Location Support"),(0,l.Lk)("li",null,"Quick Insight On Key Performance")])])],-1)),(0,l.Lk)("div",d,[(0,l.Lk)("div",c,[s[7]||(s[7]=(0,l.Lk)("h3",{class:"title"},"Sign In",-1)),(0,l.Lk)("form",{onSubmit:s[3]||(s[3]=(0,o.D$)((...a)=>w.handleLogin&&w.handleLogin(...a),["prevent"]))},[(0,l.Lk)("div",u,[s[4]||(s[4]=(0,l.Lk)("label",{class:"form-label"},"Email or User Id",-1)),(0,l.bo)((0,l.Lk)("input",{type:"text","onUpdate:modelValue":s[0]||(s[0]=a=>f.email=a),class:"form-control",placeholder:"Email or User Id",required:""},null,512),[[o.Jo,f.email]])]),(0,l.Lk)("div",v,[s[5]||(s[5]=(0,l.Lk)("label",{class:"form-label"},"Password",-1)),(0,l.Lk)("div",h,[(0,l.bo)((0,l.Lk)("input",{type:f.showPassword?"text":"password","onUpdate:modelValue":s[1]||(s[1]=a=>f.password=a),class:"form-control",placeholder:"Password",required:""},null,8,g),[[o.hp,f.password]]),(0,l.Lk)("button",{type:"button",class:"show-btn",onClick:s[2]||(s[2]=a=>f.showPassword=!f.showPassword)},(0,n.v_)(f.showPassword?"Hide":"Show"),1)])]),s[6]||(s[6]=(0,l.Lk)("div",{class:"d-flex justify-content-end mb-3"},[(0,l.Lk)("a",{href:"#",class:"forgot"},"Forgot Password?")],-1)),(0,l.Lk)("button",{type:"submit",class:"btn login-btn w-100",disabled:f.loading},(0,n.v_)(f.loading?"Logging in...":"Login"),9,k),f.error?((0,l.uX)(),(0,l.CE)("div",p,(0,n.v_)(f.error),1)):(0,l.Q3)("",!0),f.success?((0,l.uX)(),(0,l.CE)("div",m,"Login successful! Redirecting...")):(0,l.Q3)("",!0)],32)])])])])])])}e(4114);var f=e(2549),w={name:"LoginPage",data(){return{email:"",password:"",showPassword:!1,loading:!1,error:null,success:!1}},methods:{async handleLogin(){this.loading=!0,this.error=null,this.success=!1;try{const a=await fetch("/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:this.email,password:this.password})});if(!a.ok){const s=await a.json();throw new Error(s.msg||"Login failed")}const s=await a.json();console.log("Login successful, received:",s),(0,f.f7)(s),this.success=!0,setTimeout(()=>{console.log("Redirecting to role:",s.role),"Admin"===s.role?this.$router.push("/admin"):"Doctor"===s.role?this.$router.push("/doctor"):"Patient"===s.role&&this.$router.push("/patient")},1e3)}catch(a){this.error=a.message||"An error occurred during login",console.error("Login error:",a)}finally{this.loading=!1}}}},b=e(1241);const y=(0,b.A)(w,[["render",L],["__scopeId","data-v-36e02485"]]);var P=y}}]);
//# sourceMappingURL=530.98da5642.js.map