"use strict";(self["webpackChunkhospital_management_system"]=self["webpackChunkhospital_management_system"]||[]).push([[647],{647:(s,o,e)=>{e.r(o),e.d(o,{default:()=>f});var r=e(641),a=e(751),l=e(33);const i={class:"login-page"},n={class:"login-right"},t={class:"form-group"},d={class:"form-group"},u={class:"form-group"},c=["disabled"],g={key:0,class:"error-message"},h={key:1,class:"success-message"};function p(s,o,e,p,m,k){return(0,r.uX)(),(0,r.CE)("div",i,[o[9]||(o[9]=(0,r.Lk)("div",{class:"login-left"},[(0,r.Lk)("h2",null,"Patient Login"),(0,r.Lk)("ul",{class:"features"},[(0,r.Lk)("li",null,"âœ… Anytime, Anywhere, Any Device"),(0,r.Lk)("li",null,"ðŸ“„ Go Paperless"),(0,r.Lk)("li",null,"ðŸ” Secure Backup"),(0,r.Lk)("li",null,"ðŸŒ Multi Location Support"),(0,r.Lk)("li",null,"ðŸ“Š Quick Insight On Key Performance")])],-1)),(0,r.Lk)("div",n,[o[8]||(o[8]=(0,r.Lk)("h2",null,"Sign In",-1)),(0,r.Lk)("form",{onSubmit:o[3]||(o[3]=(0,a.D$)((...s)=>k.handleLogin&&k.handleLogin(...s),["prevent"]))},[(0,r.Lk)("div",t,[o[4]||(o[4]=(0,r.Lk)("label",{for:"email"},"Email or User ID",-1)),(0,r.bo)((0,r.Lk)("input",{"onUpdate:modelValue":o[0]||(o[0]=s=>m.email=s),type:"email",id:"email",required:"",placeholder:"Enter your email"},null,512),[[a.Jo,m.email]])]),(0,r.Lk)("div",d,[o[5]||(o[5]=(0,r.Lk)("label",{for:"password"},"Password",-1)),(0,r.bo)((0,r.Lk)("input",{"onUpdate:modelValue":o[1]||(o[1]=s=>m.password=s),type:"password",id:"password",required:"",placeholder:"Enter your password"},null,512),[[a.Jo,m.password]])]),(0,r.Lk)("div",u,[(0,r.Lk)("input",{type:"checkbox",id:"showPassword",onChange:o[2]||(o[2]=(...o)=>s.togglePassword&&s.togglePassword(...o))},null,32),o[6]||(o[6]=(0,r.Lk)("label",{for:"showPassword"},"Show Password",-1))]),o[7]||(o[7]=(0,r.Lk)("div",{class:"form-group"},[(0,r.Lk)("a",{href:"#",class:"forgot-link"},"Forgot Password?")],-1)),(0,r.Lk)("button",{type:"submit",disabled:m.loading},(0,l.v_)(m.loading?"Logging in...":"Login"),9,c),m.error?((0,r.uX)(),(0,r.CE)("div",g,(0,l.v_)(m.error),1)):(0,r.Q3)("",!0),m.success?((0,r.uX)(),(0,r.CE)("div",h,"Login successful! Redirecting...")):(0,r.Q3)("",!0)],32)])])}var m=e(328);const k={name:"Login",data(){return{email:"",password:"",loading:!1,error:null,success:!1}},methods:{async handleLogin(){this.loading=!0,this.error=null,this.success=!1;try{const s=await fetch("http://localhost:5000/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:this.email,password:this.password})});if(!s.ok){const o=await s.json();throw new Error(o.msg||"Login failed")}const o=await s.json();(0,m.f7)(o),this.success=!0,setTimeout(()=>{"Admin"===o.role?this.$router.push("/admin/dashboard"):"Doctor"===o.role?this.$router.push("/doctor/dashboard"):"Patient"===o.role&&this.$router.push("/patient/dashboard")},1e3)}catch(s){this.error=s.message||"An error occurred during login",console.error("Login error:",s)}finally{this.loading=!1}}}};var L=e(262);const w=(0,L.A)(k,[["render",p],["__scopeId","data-v-2497c2c2"]]),f=w}}]);
//# sourceMappingURL=647.6277d46b.js.map